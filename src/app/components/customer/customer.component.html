<div class="container mt-1">
  <h2>Customers</h2>
  <div class="row ">
    <!--    <div class="d-grid gap-2 d-md-block">-->
    <div class="row border-bottom my-3 py-3">
      <div class="col-8">
        <div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Toolbar with button groups">
          <ngb-pagination
            [collectionSize]="customerData.length"
            [(page)]="page"
            aria-label="Default pagination">
          </ngb-pagination>

          <button class="btn btn-secondary dropdown-toggle mb-3" type="button" data-bs-toggle="dropdown"
                  aria-expanded="false">
            {{selectedEnabledOption}}
          </button>

          <ul class="dropdown-menu">
            <li class="dropdown-item" (click)="fetchCustomerData()">All</li>
            <li class="dropdown-item" (click)="showEnabledCustomers()">Show active users</li>
            <li class="dropdown-item" (click)="showDisabledCustomers()">Show inactive users</li>
          </ul>


          <form role="search">
            <div class="input-group">
              <input type="search"
                     class="form-control"
                     placeholder="Search..."
                     aria-label="Search"
                     [(ngModel)]="searchInput"
                     [ngModelOptions]="{ standalone: true }"
                     (input)="applySearchFilter()">
            </div>
          </form>
        </div>
      </div>
      <div class="col-4 align-content-center text-end">
        <button class="btn btn-primary" (click)="openAddCustomer()">Add New Customer</button>
      </div>
    </div>


    <div class="row">
      <div class="h-100">
        <table class="table table-striped table-hover">
          <thead>
          <tr>
            <th class="w-25">Name</th>
            <th>City</th>
            <th>Address</th>
            <th>Actions</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let customer of customerData  | slice: (page-1) * pageSize  :page * pageSize">

            <td class="text-capitalize">{{customer.name }}</td>

            <td class="text-capitalize">{{customer.address.city}}</td>

            <td class="text-capitalize">{{customer.address.addressLine1}}, {{customer.address.addressLine2}}</td>

            <td>
              <div class="btn-group w-100">

                <button type="button" class="btn btn-outline-primary w-100"
                        (click)="updateEnabled(customer.uuid)">  {{ customer.enabled === 1 ? 'Enabled' : 'Disabled' }}
                </button>

                <button type="button" class="btn btn-outline-primary w-100"
                        (click)="openCustomerDetails(customer.uuid)">Details
                </button>

                <button type="button" class="btn btn-outline-primary w-100"
                        (click)="openEditCustomer(customer.uuid)">Edit
                </button>

              </div>
            </td>

          </tr>
          </tbody>
        </table>

      </div>

    </div>


  </div>

</div>

